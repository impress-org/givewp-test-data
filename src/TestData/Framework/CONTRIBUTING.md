# Contributing

## A note on performance

The generating and seeding of donors and donations is intended to be a step process, meaning that each item is created in turn as opposed to mass insert queries. This is largely due to the relational nature of the MySQL database and the meta table architecture which requires multiple insert queries per item to maintain the relationship between the inserted item row and the related meta rows.

Such an application as generating data is well suited for a command line environment, in which long running processes are not hindered by the request processing time or the performance expectations of a production application.

## Factories vs Seeders

The boundary between Factories and Seeders exists in order to separate the  concerns of creating and persisting data, respectively.

**Factories** creates the definition of the data being generated.

**Seeders** control how the data generated by the factory is used, generally by inserting the data into a database or building an export.

How the data is used is a separate concern from how the data is generated. As an example, a factory can be used to generate donation data (a data structure that has specific requirements) while there may be a database seeder for populating a WordPress installation in addition to an export seeder which may format a static file to be imported at a later time. Maintaining the boundary between data creation and storage allows for different applications of the same information.

## Provider

**Providers** represents specific data types that may be generated with specific requirements. As opposed to generic data types, like names, emails, etc, a provider is used for application specific data types.

As an example, GiveWP donations exist in two different "modes", ie "live" and "test". Generating one of these two "modes" is specific to the application and introduces a specific requirement of the generated data. For this reason we create a "provider" that leverages a random boolean to return either "live" or "test".

As another example, GiveWP donations are made using a preset list of payment gateways. For this reason we create a "provider", with a list of possible payment gateways, that leverages a random integer within a range to return an item in the list.